%%=============================================================================
%% Inleiding
%%=============================================================================

\chapter{Inleiding}
\label{ch:inleiding}

De inleiding moet de lezer alle nodige informatie verschaffen om het onderwerp te begrijpen zonder nog externe werken te moeten raadplegen \autocite{Pollefliet2011}. Dit is een doorlopende tekst die gebaseerd is op al wat je over het onderwerp gelezen hebt (literatuuronderzoek).

Je verwijst bij elke bewering die je doet, vakterm die je introduceert, enz. naar je bronnen. In \LaTeX{} kan dat met het commando \texttt{$\backslash${textcite\{\}}} of \texttt{$\backslash${autocite\{\}}}. Als argument van het commando geef je de ``sleutel'' van een ``record'' in een bibliografische databank in het Bib\TeX{}-formaat (een tekstbestand). Als je expliciet naar de auteur verwijst in de zin, gebruik je \texttt{$\backslash${}textcite\{\}}.
Soms wil je de auteur niet expliciet vernoemen, dan gebruik je \texttt{$\backslash${}autocite\{\}}. Hieronder een voorbeeld van elk.

\textcite{Knuth1998} schreef een van de standaardwerken over sorteer- en zoekalgoritmen. Experten zijn het erover eens dat cloud computing een interessante opportuniteit vormen, zowel voor gebruikers als voor dienstverleners op vlak van informatietechnologie~\autocite{Creeger2009}.

{Wat kan het? 

Search (met bovenvermelde features), Data-analyse (met bovenvermelde features), logging 

Wie gebruikt het? 

Enkele merkwaardige gebruikers van Elasticsearch zijn Netflix, Github, Facebook, Cisco, Microsoft en Adobe. Ook Zalando, Just Eat, Blizzard, Ebay, Warner Brothers, BBC, Walmart, Uber, Tinder, Mozilla, Activision, Orange, ... (bron https://www.elastic.co/use-cases)

\section{Stand van zaken}
\label{sec:stand-van-zaken}

%% TODO: deze sectie (die je kan opsplitsen in verschillende secties) bevat je
%% literatuurstudie. Vergeet niet telkens je bronnen te vermelden!

\begin{itemize}
	\item Gebruiken in de taal die je wilt (ondersteunde talen zijn: Curl, Java, C\#, Python, JavaScript, PHP, Perl, Ruby)
	
\end{itemize}

Elasticsearch is een zoekmachine die in Java geschreven is. De zoekmachine werd boven de Java library Apache Lucene gebouwd. Alle commando's worden verzonden door HTTP requests naar de Elasticsearch REST API. Die API is op JSON gebaseerd. Dat wil zeggen dat de mogelijkheid bestaat om JSON mee te geven aan de HTTP requests. Ook de resultaten worden in JSON teruggegeven. Naast een zoekmachine te zijn wordt Elasticsearch ook gebruikt voor data-analyses en om aan logging te doen. 

Shay Banon creëerde Elasticsearch in een zodanige manier dat het een gedistribueerd systeem werd. Een gedistribueerd systeem brengt zowel voordelen als nadelen met zich mee. Volgens \textcite{Brasetvik2013s} focussen verschillende systemen op verschillende sterktes, afhankelijk van welke eigenschappen belangrijker zijn voor het systeem. Daarbij wordt gezegd dat Elasticsearch focust op snelheid. Het streeft naar real-time search. Om dat de kunnen bereiken in een gedistribueerd systeem worden een aantal zaken aan de kant geschoven of vereenvoudigd. Een voorbeeld hiervan is concurrency control. Dat wordt gedaan aan de hand van versienummers van de documents. Een optimistische aanpak dat snelheid als voordeel heeft maar in uitzonderlijke gevallen foute resultaten in de zoekopdrachten en data-analyses kan opleveren. In een zoekopdracht is het misschien nog aanvaardbaar dat sommige resultaten niet worden weergegeven. Zeker als dat ervoor zorgt dat men over real-time search kan spreken. In een data-analyse is het echter zeer belangrijk dat de resultaten correct zijn. Een tweede manier om aan snelheid te winnen in een gedistribueerd systeem is caching. Elasticsearch doet vaak aan caching om niet telkens opnieuw alle data te moeten opvragen. Data waarnaar verwezen wordt in de cache kan ondertussen aangepast of verwijderd worden. Dat heeft opnieuw een negatief effect op consistentie en een positief effect op snelheid.

Over het algemeen is er sprake van een CP-systeem \footnote{Een systeem dat consistent en partitie tolerant is maar niet altijd beschikbaar} met een zwakke definitie voor consistentie. Wanneer met Elasticsearch enkel gebruik om data uit te lezen bereikt men een AP-systeem \footnote{Een systeem dat altijd beschikbaar en partitie tolerant is maar niet consistent} waarbij consistentie niet meer van toepassing is. Ook het probleem waarbij gecachete data verouderd is geen probleem meer wanneer men enkel data uitleest.

\textcite{Gausser2012} schrijft dat één van de belangrijkste sterktes van de zoekmachine is dat het gebruikmaakt van een schema-less data model. Hierdoor kan elk JSON document aan Elasticsearch toegevoegd worden. Dat zorgt voor veel flexibiliteit en minder configuratiewerk voor de gebruikers. De zoekmachine is zeer sterk in het herkennen van eenvoudige datatypes zoals nummers, booleans en timestamps \autocite{Brasetvik2013s}. Het rekenen met variabelen van die datatypes wordt daardoor toch mogelijk gemaakt zonder expliciet te moeten meegeven wat de datatypes zijn. \textcite{Brasetvik2013s} gebruikt liever de term schema flexible aangezien er wel een mogelijkheid bestaat om een schema mee te geven. Een reden om zelf uw schema mee te geven is om uw data op punt te stellen en zo de zoeksnelheden te doen laten stijgen. 

\subsection{Schaalbaarheid}
 Cluster: verzameling van nodes. De eerste heeft Elasticsearch als naam. Alle clusters samen stellen uw data voor. (ongelimiteerd aantal nodes) 

Node: krijgen standaard een UUID en komen bij de Elasticsearch cluster tenzij anders gedefinieerd 

Index: een verzameling van documents met gelijkaardige karakteristieken 

Shards: een index kan zeer groot worden. Elasticsearch voorziet shards om die index op te delen in stukken. (partitions ???) Het zijn de shards waarvan er replica's gemaakt worden. https://www.elastic.co/guide/en/elasticsearch/reference/current/\textunderscore basic\textunderscore concepts.html

Zeer sterk in schaalbaarheid. Bij het toevoegen van een nieuwe node worden de shards verplaatst zodat de nodige opslagruimte minimaal blijft. Berglund (zie voorstel)  

\subsection{Installatie}
\label{Installatie}

Elasticsearch is gratis als je beslist om zelf te hosten. De installatie verloopt zeer snel. Eerst moet je zorgen dat Java geïnstalleerd staat op je computer. Daarna download je een versie van Elasticsearch naar keuze via hun website. Pak het bestand uit en je bent klaar om je eerste cluster op te starten. Als dat te moeilijk is kan men gebruik maken van een grafische user interface die beschikbaar is via de MSI installer package. Op hun website staat stap voor stap uitgelegd hoe je de installatie kunt uitvoeren. 

Er hangen niet zoveel nadelen vast aan het zelf hosten van Elasticsearch. Ten eerste moet je over voldoende ruimte beschikken op je harde schijf. Dat kan moeilijk worden wanneer men met grote hoeveelheden data werkt. Ten tweede is het belangrijk om te weten dat je zelf verantwoordelijk bent voor eventuele downtimes. Het is dus perfect mogelijk om Elasticsearch volledig gratis te gebruiken. 

Wanneer men beslist om te betalen voor de hosting bij Elasticsearch krijgt men enkele voordelen mee. De eerder vermelde problemen in verband met ruimte op je harde schijf en downtimes zijn niet langer van toepassing.  Aan de hosting zijn een aantal Service Level Agreements gebonden die ervoor zorgen dat je verzekerd bent op een goede kwaliteit en op voldoende support. De kostprijs is 36,53 EUR per maand. Er is ook een mogelijkheid om vooraf een proefversie van 14 dagen te gebruiken.

\subsection{Data importeren in Elasticsearch}

Om data te exporteren van uw databank naar Elasticsearch zijn er een aantal mogelijkheden, afhankelijk van welke databank u gebruikt. De eerste mogelijkheid is er één die Elasticsearch zelf aanbiedt. Daarvoor maken ze gebruik van een ander product uit de Elastic Stack\footnote{De Elastic Stack is een verzameling van open-source producten van Elastic.}: Logstash. Logstash is een tool om data te verwerken, te transformeren en uit te wisselen. Het is een product waar veel informatie en support over te vinden is. Logstash is dus een tool die veel flexibiliteit biedt maar vraagt wel een extra installatie. 

Daarnaast zijn er een aantal tools die aangeboden worden door de community. Van die tools is er in het algemeen minder support te vinden. Nog een nadeel is dat het niet altijd mogelijk is om uw data naar de laatste versie van Elasticsearch te exporteren. De versies van de tools lopen namelijk in het algemeen achter op de nieuwste versie van Elasticsearch. 

Zowel Logstash als de meeste tools die worden aangeboden door de community bieden ook de functionaliteit aan om data te synchroniseren. Dat wil zeggen dat, wanneer uw data veranderd in uw databank, die veranderingen ook doorgevoerd worden in Elasticsearch. In veel use cases zal dit veel voordelen bieden. 

\textbf{VERDERE LITERATUURSTUDIE}

\begin{itemize}
	\item Elasticsearch biedt veel features zoals full text-search, suggesties (did you mean), results highlighting, custom document scoring (relevantie berekenen bijvoorbeeld aantal matches, lengte van het veld, ...) 
	\item Open Source
	\item De query DSL van Elasticsearch is minder gebruikelijk en minder flexibel dan die van SQL. Dat betekent dat je, ondanks de hoge leercurve, minder flexibiliteit hebt.  
	\item Geen vorm van security. (alle gebruikers zijn super admin) 
	\item relaties: Bresetvik Elasticsearch is a document oriented database. The entire object graph you want to search needs to be indexed, so before indexing your documents, they must be denormalized. Denormalization increases retrieval performance (since no query joining is necessary), uses more space (because things must be stored several times), but makes keeping things consistent and up-to-date more difficult (as any change must be applied to all instances). They're excellent for write-once-read-many-workloads, however.
	\item nieuw zegt dat het poorly documented is (2012) nu wel goed
\end{itemize}




\section{Probleemstelling en Onderzoeksvragen}
\label{sec:onderzoeksvragen}

%% TODO:
%% Uit je probleemstelling moet duidelijk zijn dat je onderzoek een meerwaarde
%% heeft voor een concrete doelgroep (bv. een bedrijf).
%%
%% Wees zo concreet mogelijk bij het formuleren van je
%% onderzoeksvra(a)g(en). Een onderzoeksvraag is trouwens iets waar nog
%% niemand op dit moment een antwoord heeft (voor zover je kan nagaan).

\section{Opzet van deze bachelorproef}
\label{sec:opzet-bachelorproef}

%% TODO: Het is gebruikelijk aan het einde van de inleiding een overzicht te
%% geven van de opbouw van de rest van de tekst. Deze sectie bevat al een aanzet
%% die je kan aanvullen/aanpassen in functie van je eigen tekst.

De rest van deze bachelorproef is als volgt opgebouwd:

In Hoofdstuk~\ref{ch:methodologie} wordt de methodologie toegelicht en worden de gebruikte onderzoekstechnieken besproken om een antwoord te kunnen formuleren op de onderzoeksvragen.

%% TODO: Vul hier aan voor je eigen hoofstukken, één of twee zinnen per hoofdstuk

In Hoofdstuk~\ref{ch:conclusie}, tenslotte, wordt de conclusie gegeven en een antwoord geformuleerd op de onderzoeksvragen. Daarbij wordt ook een aanzet gegeven voor toekomstig onderzoek binnen dit domein.

